<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Special Person ðŸ’•</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#2a0018,#4b0030,#1a0015);
  color:white;
  overflow-x:hidden;
}

canvas{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  z-index:-1;
}

.envelope-screen{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#3a0024,#14000c);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.envelope{
  width:300px;
  height:200px;
  cursor:pointer;
  perspective:1000px;
}

.envelope-body{
  width:100%;
  height:100%;
  background:rgba(255,77,166,0.8);
  border-radius:15px;
  box-shadow:0 25px 50px rgba(255,0,120,.6);
  position:relative;
}

.envelope-flap{
  position:absolute;
  width:100%;
  height:100%;
  background:#ff4da6;
  clip-path:polygon(0 0,50% 60%,100% 0);
  transform-origin:top;
  transition:1s;
}

.envelope.open .envelope-flap{
  transform:rotateX(180deg);
}

.envelope-text{
  position:absolute;
  bottom:20px;
  width:100%;
  text-align:center;
  font-family:'Cormorant Garamond',serif;
}

.container{
  max-width:1000px;
  margin:auto;
  padding:70px 20px;
  text-align:center;
  display:none;
}

.hero h1{
  font-family:'Cormorant Garamond',serif;
  font-size:2.8rem;
  color:#ff9ad5;
}

.sparkle{
  animation:sparkle 1.5s infinite alternate;
}

@keyframes sparkle{
  from{text-shadow:0 0 8px #ff4da6}
  to{text-shadow:0 0 25px #ff99dd}
}

.glass{
  margin:40px auto;
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(25px);
  border-radius:25px;
  border:1px solid rgba(255,255,255,0.15);
  box-shadow:0 15px 40px rgba(0,0,0,0.4);
  padding:35px;
}

.love-btn{
  margin-top:25px;
  padding:12px 30px;
  border:none;
  border-radius:30px;
  background:linear-gradient(45deg,#ff4da6,#ff77c4);
  color:white;
  cursor:pointer;
  transition:.3s;
}

.love-btn:hover{
  transform:scale(1.08);
}

.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:15px;
  margin-top:30px;
}

.gallery img{
  width:100%;
  aspect-ratio:1;
  object-fit:cover;
  border-radius:20px;
  cursor:pointer;
  transition:.3s;
}

.gallery img:hover{
  transform:scale(1.05);
  box-shadow:0 10px 30px rgba(255,0,120,.6);
}

.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
}

.popup img{
  max-width:90%;
  max-height:85%;
  border-radius:20px;
}

.confetti{
  position:fixed;
  width:8px;
  height:8px;
  top:-10px;
  border-radius:50%;
  animation:fall 3s linear forwards;
}

@keyframes fall{
  to{transform:translateY(100vh) rotate(360deg);}
}

/* === TAMBAHAN PESAN KHUSUS === */
.special-message{
  margin-top:30px;
  font-size:1.1rem;
  color:#ffb3e6;
  animation:glow 2s infinite alternate;
}

@keyframes glow{
  from{text-shadow:0 0 5px #ff4da6;}
  to{text-shadow:0 0 20px #ff99dd;}
}

/* === FOOTER === */
footer{
  margin-top:60px;
  padding:30px;
  text-align:center;
  background:rgba(0,0,0,0.3);
  font-size:1rem;
  letter-spacing:1px;
  color:#ffcce6;
}
</style>
</head>
<body>

<audio id="loveMusic" src="Musik2.mp3" loop></audio>
<canvas id="particles"></canvas>

<div class="envelope-screen">
  <div class="envelope" onclick="openEnvelope()">
    <div class="envelope-body">
      <div class="envelope-flap"></div>
      <div class="envelope-text">DIBUKA YAAðŸ’Œ</div>
    </div>
  </div>
</div>

<div class="container" id="mainContent">
  <div class="hero">
    <h1>Happy Valentine <span class="sparkle">Balqis âœ¨</span></h1>
  </div>

  <div class="glass">
    <div id="letterText"></div>
    <button class="love-btn" onclick="showLove()">I Love You ðŸ’–</button>
  </div>

  <div class="glass">
    <h2>Our Memories ðŸ“¸</h2>
    <div class="gallery" id="photoGallery"></div>

    <!-- PESAN KHUSUS DIBAWAH CAROUSEL -->
    <div class="special-message">
      Every picture here is a reminder that loving you  
      is my favorite memory and my greatest blessing ðŸ’•
    </div>

  </div>
</div>

<div class="popup" id="popup" onclick="closePopup()">
  <img id="popupImg">
</div>

<!-- FOOTER -->
<footer>
  Made with love just for you ðŸ’–
</footer>

<script>

/* MP3 LOKAL */
function startMusicFadeIn(){
  const audio=document.getElementById("loveMusic");
  audio.volume=0;
  audio.play();
  let volume=0;
  const fade=setInterval(()=>{
    if(volume<0.7){
      volume+=0.02;
      audio.volume=volume;
    } else clearInterval(fade);
  },200);
}

/* OPEN ENVELOPE */
function openEnvelope(){
  document.querySelector(".envelope").classList.add("open");
  setTimeout(()=>{
    document.querySelector(".envelope-screen").style.display="none";
    document.getElementById("mainContent").style.display="block";
    startTyping();
    loadGallery();
    createFloatingHearts();
    setTimeout(()=>startMusicFadeIn(),500);
  },1000);
}

/* LETTER */
const loveMessage=`For My Dearest Balqis ðŸ’Œâœ¨

Selamat Hari Valentine untuk cewek paling manis di semestaku. ðŸ’—

Kalau dunia ini langit malam, kamu itu bukan cuma bintangnya â€” kamu konstelasi yang bikin semuanya terasa berarti.

Kamu bukan cuma orang yang aku sayang.
Kamu itu rumah.

Aku milih kamu hari ini.
Besok.
Dan setiap hari setelah itu. ðŸ’ž

Forever yours,
in every timeline, in every universe. ðŸ’«ðŸ’•`;

function startTyping(){
  let i=0;
  function type(){
    if(i<loveMessage.length){
      document.getElementById("letterText").textContent+=loveMessage[i];
      i++;
      setTimeout(type,25);
    }
  }
  type();
}

/* RANDOM REASONS */
const reasons=[
"Kamu selalu bikin aku tenang ðŸ’•",
"Senyummu candu âœ¨",
"Ade Kecil Pendek ðŸ’—",
"Kamu lucu banget ðŸ’ž"
];

function showRandomReason(){
  const div=document.createElement("div");
  div.textContent=reasons[Math.floor(Math.random()*reasons.length)];
  div.style.marginTop="15px";
  document.querySelectorAll(".glass")[0].appendChild(div);
  setTimeout(()=>div.remove(),4000);
}

/* CONFETTI */
function showLove(){
  for(let i=0;i<60;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},100%,70%)`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
  showRandomReason();
}

/* FLOATING HEARTS */
function createFloatingHearts(){
  setInterval(()=>{
    const heart=document.createElement("div");
    heart.innerHTML="ðŸ’—";
    heart.style.position="fixed";
    heart.style.left=Math.random()*100+"vw";
    heart.style.bottom="-20px";
    heart.style.fontSize=(20+Math.random()*20)+"px";
    heart.style.animation="floatUp 6s linear forwards";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),6000);
  },1500);
}

const style=document.createElement("style");
style.innerHTML=`@keyframes floatUp{
to{transform:translateY(-110vh);opacity:0;}
}`;
document.head.appendChild(style);

/* GALLERY */
const galleryImages=["foto1.jpeg","foto2.jpeg","foto3.jpeg","foto4.jpeg","foto5.jpeg","foto6.jpeg","foto7.jpeg","foto8.jpeg","foto9.jpeg","foto10.jpeg"];

function loadGallery(){
  const gallery=document.getElementById("photoGallery");
  galleryImages.forEach(src=>{
    const img=document.createElement("img");
    img.src=src;
    img.onclick=()=>openPopup(src);
    gallery.appendChild(img);
  });
}

function openPopup(src){
  document.getElementById("popupImg").src=src;
  document.getElementById("popup").style.display="flex";
}

function closePopup(){
  document.getElementById("popup").style.display="none";
}

/* PARTICLES */
const canvas=document.getElementById("particles");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
for(let i=0;i<80;i++){
  particles.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*2,
    d:Math.random()*1
  });
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="rgba(255,150,200,0.8)";
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
    p.y+=p.d;
    if(p.y>canvas.height)p.y=0;
  });
  requestAnimationFrame(draw);
}
draw();

</script>
</body>
</html>
